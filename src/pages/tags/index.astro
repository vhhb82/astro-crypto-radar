---
import Base from '@/layouts/Base.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog', ({ data }) => !data.draft);
const counts = new Map<string, number>();
for (const p of posts) for (const t of p.data.tags) counts.set(t, (counts.get(t) ?? 0) + 1);
const tags = [...counts.entries()].sort((a, b) => b[1] - a[1]);
---
<Base title="Taguri â€“ Crypto Radar" description="Toate etichetele">
  <ul class="flex flex-wrap gap-3">
    {tags.map(([t, c]) => (
      <li><a class="px-3 py-1 rounded-full bg-gray-100 hover:bg-gray-200" href={`/tags/${t}/`}>#{t} ({c})</a></li>
    ))}
  </ul>
</Base>

