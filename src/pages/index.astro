---
import Base from '@/layouts/Base.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog', ({ data }) => !data.draft))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Base title="Blog – Crypto Radar" description="Articole recente">
  <nav class="mt-6 flex gap-4">
    <a href="/blog" class="hover:text-blue-600 transition-colors">Blog</a>
    <a href="/tags" class="hover:text-blue-600 transition-colors">Taguri</a>
    <a href="/burse/" class="hover:text-blue-600 transition-colors">Burse & unelte</a>
    <a href="https://cryptopanic.com/" 
       rel="noopener noreferrer" 
       target="_blank"
       class="hover:text-blue-600 transition-colors">
      Știri Crypto (CryptoPanic)
    </a>
  </nav>

  <ul class="space-y-6 mt-8">
    {posts.map((p) => (
      <li>
        <a 
          class="text-xl font-semibold text-blue-600 hover:text-blue-800 transition-colors" 
          href={`/blog/${p.slug}/`}
        >
          {p.data.title}
        </a>
        <p class="text-gray-600 dark:text-gray-400 mt-2">{p.data.description}</p>
      </li>
    ))}
  </ul>
</Base>




